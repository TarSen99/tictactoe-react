(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(8),s=n.n(r),l=(n(15),n(1)),c=n(2),u=n(4),o=n(3),h=n(6),p=n(5),d=(n(16),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={inputValue:""},n.handleChangeInput=n.handleChangeInput.bind(Object(h.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleChangeInput",value:function(e){var t=e.target.value;t=parseInt(t),isNaN(t)&&(t=""),this.setState({inputValue:t})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.handleSubmit(+this.state.inputValue)}},{key:"render",value:function(){var e="\n    ".concat("X"===this.props.currentSign?"../img/x-3.png":"O"===this.props.currentSign?"../img/o-3.png":"");return a.a.createElement("div",{className:"header"},a.a.createElement("input",{value:this.state.inputValue,placeholder:"size",onChange:this.handleChangeInput,className:"header__input"}),a.a.createElement("button",{onClick:this.handleSubmit,className:"header__button"},"Generate / Restart game"),a.a.createElement("div",{className:"header__text"},"Player",a.a.createElement("img",{src:e,alt:""}),this.props.gameOver?"Won!":"is moving"))}}]),t}(a.a.Component)),m=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t="".concat("X"===this.props.sign?"../img/x-3.png":"O"===this.props.sign?"../img/o-3.png":"");return a.a.createElement("div",{className:"cell",style:{width:this.props.size,height:this.props.size,margin:this.props.spacing/2},onClick:function(){return e.props.handleCellClick(e.props.id)}},a.a.createElement("img",{className:"cell__img",src:t,alt:""}))}}]),t}(a.a.Component),g=function(e){function t(e){return Object(l.a)(this,t),Object(u.a)(this,Object(o.a)(t).call(this,e))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getCellSize",value:function(){var e=this.props.cellSizes,t=this.props.size;for(var n in e){if(!e.hasOwnProperty(n))return;if(+n>=t)return{cellSize:e[n].size,cellSpacing:e[n].between}}}},{key:"render",value:function(){var e=this,t=this.getCellSize(),n=t.cellSize,i=t.cellSpacing,r=this.props.size*(n+i);return a.a.createElement("div",{className:"field",style:{width:r}},this.props.cells.map(function(t){return a.a.createElement(m,{size:n,spacing:i,sign:t.sign,key:t.id,id:t.id,handleCellClick:e.props.handleCellClick})}))}}]),t}(a.a.Component),v=function(e){function t(e){var n;Object(l.a)(this,t);return(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={fieldSize:3,minFieldSize:3,maxFieldSize:12,cells:n.getCells(3),cellSizes:n.getCellSizes(),currentSign:"X",pointsToWin:n.getPointsToWin(3),gameOver:!1},n.handleSubmit=n.handleSubmit.bind(Object(h.a)(n)),n.handleCellClick=n.handleCellClick.bind(Object(h.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"getCells",value:function(e){return Array(e*e).fill(null).map(function(t,n){return{id:n,sign:"",x:n%e,y:Math.floor(n/e)}})}},{key:"getCellSizes",value:function(){return{3:{size:100,between:10},5:{size:80,between:8},7:{size:70,between:6},10:{size:60,between:4},12:{size:45,between:4}}}},{key:"getPointsToWin",value:function(e){return 3===e?3:4===e?4:5}},{key:"checkLine",value:function(e,t,n,i,a,r){var s=this,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=function(c){var u=e-c*i*n,o=t-c*a*n,h=s.state.cells.find(function(e){return e.x===u&&e.y===o});return h?h.sign!==r?"break":++l===s.state.pointsToWin?{v:!0}:void 0:"break"};e:for(var u=0;u<this.state.fieldSize;u++){var o=c(u);switch(o){case"break":break e;default:if("object"===typeof o)return o.v}}if(-1===n&&this.checkLine(e,t,1,i,a,r,l-1))return!0;return!1}},{key:"processMatches",value:function(e,t){for(var n=e.x,i=e.y,a=[[1,0],[0,1],[1,1],[-1,1]],r=0;r<a.length;r++){var s=a[r];if(this.checkLine(n,i,-1,s[0],s[1],t))return!0}return!1}},{key:"endGame",value:function(e){this.setState({gameOver:!0})}},{key:"handleCellClick",value:function(e){if(!this.state.gameOver){var t=this.state.cells.find(function(t){return t.id===e});if(""===t.sign){var n=this.state.currentSign;t.sign=n;var i=this.processMatches({x:t.x,y:t.y},n);i&&this.endGame(n),this.setState(function(e){return i?{currentSign:e.currentSign}:{currentSign:"X"===e.currentSign?"O":"X"}})}}}},{key:"handleSubmit",value:function(e){var t=Math.max(e,this.state.minFieldSize);t=Math.min(t,this.state.maxFieldSize),this.setState({fieldSize:t,cells:this.getCells(t),pointsToWin:this.getPointsToWin(t),currentSign:"X",gameOver:!1})}},{key:"render",value:function(){return a.a.createElement("div",{className:"app"},a.a.createElement(d,{currentSign:this.state.currentSign,handleSubmit:this.handleSubmit,gameOver:this.state.gameOver}),a.a.createElement(g,{size:this.state.fieldSize,cellSizes:this.state.cellSizes,cells:this.state.cells,handleCellClick:this.handleCellClick}))}}]),t}(i.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.850a3579.chunk.js.map